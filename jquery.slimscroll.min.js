!function(i){i.fn.extend({slimScroll:function(e){var s={axis:"y",width:"auto",height:"250px",size:"7px",color:"#000",positionX:"bottom",positionY:"right",distance:"1px",startX:"left",startY:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClassX:"slimScrollRailX",barClassX:"slimScrollBarX",railClassY:"slimScrollRailY",barClassY:"slimScrollBarY",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:5,touchScrollStep:20,borderRadius:"7px",railBorderRadius:"7px"},a=i.extend(s,e);return a.axis=a.axis.toLowerCase(),this.each(function(){function s(t){var i=0,e=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-1*t.wheelDelta/6),"wheelDeltaY"in t&&(e=-1*t.wheelDeltaY/6),"wheelDeltaX"in t&&(i=t.wheelDeltaX/6),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*e,e=0),i!==i&&e!==e&&(i=0,e=t.wheelDelta),"deltaY"in t&&(e=t.deltaY),"deltaX"in t&&(i=t.deltaX),[i,e]}function o(t){if(b){t=t||window.event;var e=s(t),o=e[0],r=e[1],n=t.target||t.srcTarget||t.srcElement;i(n).closest("."+a.wrapperClass).is(V.parent())&&l(o,r,!0),t.preventDefault&&!O&&t.preventDefault(),O||(t.returnValue=!1)}}function l(t,i,e,s){if(O=!1,f){var o=t,l=V.outerWidth()-L.outerWidth();if(e&&(o=parseInt(L.css("left"))+t*parseInt(a.wheelStep)/100,o=Math.min(Math.max(o,0),l),o=t>0?Math.ceil(o):Math.floor(o),L.css({left:o+"px"})),R=parseInt(L.css("left"))/(V.outerWidth()-L.outerWidth()),o=R*(V[0].scrollWidth-V.outerWidth()),s){o=t;var r=o/V[0].scrollWidth*V.outerWidth();r=Math.min(Math.max(r,0),l),L.css({left:r+"px"})}V.scrollLeft(o),V.trigger("slimscrollingX",~~o),c(),h()}if(g){var n=i,d=V.outerHeight()-j.outerHeight();if(e&&(n=parseInt(j.css("top"))+i*parseInt(a.wheelStep)/100,n=Math.min(Math.max(n,0),d),n=i>0?Math.ceil(n):Math.floor(n),j.css({top:n+"px"})),M=parseInt(j.css("top"))/(V.outerHeight()-j.outerHeight()),n=M*(V[0].scrollHeight-V.outerHeight()),s){n=i;var b=n/V[0].scrollHeight*V.outerHeight();b=Math.min(Math.max(b,0),d),j.css({top:b+"px"})}V.scrollTop(n),V.trigger("slimscrollingY",~~n),u(),p()}}function r(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",o,!1),t.addEventListener("mousewheel",o,!1)):document.attachEvent("onmousewheel",o)}function n(){if(L){S=Math.max(V.outerWidth()/V[0].scrollWidth*V.outerWidth(),B),L.css({width:S+"px"});var t=f&&V[0].scrollWidth>V[0].clientWidth?"block":"none";L.css({display:t})}}function d(){if(j){C=Math.max(V.outerHeight()/V[0].scrollHeight*V.outerHeight(),H),j.css({height:C+"px"});var t=g&&V[0].scrollHeight>V[0].clientHeight?"block":"none";j.css({display:t})}}function c(){if(L){if(n(),clearTimeout(x),R==~~R){if(O=a.allowPageScroll,I!=R){var t=0===~~R?"left":"right";V.trigger("slimscrollX",t)}}else O=!1;if(I=R,S>=V.outerWidth())return void(O=!0);L.stop(!0,!0).fadeIn("fast"),a.railVisible&&z.stop(!0,!0).fadeIn("fast")}}function h(){L&&(a.alwaysVisible||(x=setTimeout(function(){a.disableFadeOut&&b||w||m||(L.fadeOut("slow"),z.fadeOut("slow"))},1e3)))}function u(){if(j){if(d(),clearTimeout(X),M==~~M){if(O=a.allowPageScroll,W!=M){var t=0===~~M?"top":"bottom";V.trigger("slimscrollY",t)}}else O=!1;if(W=M,C>=V.outerHeight())return void(O=!0);j.stop(!0,!0).fadeIn("fast"),a.railVisible&&F.stop(!0,!0).fadeIn("fast")}}function p(){j&&(a.alwaysVisible||(X=setTimeout(function(){a.disableFadeOut&&b||v||m||(j.fadeOut("slow"),F.fadeOut("slow"))},1e3)))}var f,g,b,w,v,m,x,X,y,Y,C,S,R,I,M,W,D="<div></div>",H=30,B=30,O=!1,V=i(this);if(V.parent().hasClass(a.wrapperClass)){i.extend(a,V.data("slimScrollConfig")||{});var E=V.scrollLeft(),T=V.scrollTop();if(L=V.siblings("."+a.barClassX),z=V.siblings("."+a.railClassX),j=V.siblings("."+a.barClassY),F=V.siblings("."+a.railClassY),f="both"==a.axis||"x"==a.axis,g="both"==a.axis||"y"==a.axis,n(),d(),i.isPlainObject(e)){if("width"in e&&f&&("auto"==e.width?(V.parent().css("width","auto"),V.css("width","auto"),a.width=V.parent().parent().width()):(a.width=e.width,V.css({"white-space":"nowrap"}))),"height"in e&&g&&("auto"==e.height?(V.parent().css("height","auto"),V.css("height","auto"),a.height=V.parent().parent().height()):a.height=e.height),V.parent().css({position:"relative",overflow:"hidden",width:a.width,height:a.height}),V.css({overflow:"hidden",width:a.width,height:a.height}),"scrollToX"in e?E=parseInt(a.scrollToX):"scrollByX"in e&&(E+=parseInt(a.scrollByX)),"scrollToY"in e?T=parseInt(a.scrollToY):"scrollByY"in e&&(T+=parseInt(a.scrollByY)),"destroy"in e)return L.remove(),z.remove(),j.remove(),F.remove(),void V.unwrap();l(E,T,!1,!0)}}else if(!(i.isPlainObject(e)&&"destroy"in e)){f="both"==a.axis||"x"==a.axis,g="both"==a.axis||"y"==a.axis,a.height="auto"==a.height?V.parent().height():a.height,a.width="auto"==a.width?V.parent().width():a.width,V.data("slimScrollConfig",a);var k=i(D).addClass(a.wrapperClass).css({position:"relative",overflow:"hidden",width:a.width,height:a.height});if(V.css({overflow:"hidden",width:a.width,height:a.height}),V.wrap(k),f){"auto"!=a.width&&f&&V.css({"white-space":"nowrap"});var z=i(D).addClass(a.railClassX).css({width:"100%",height:a.size,position:"absolute",left:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),L=i(D).addClass(a.barClassX).css({background:a.color,height:a.size,position:"absolute",left:0,opacity:a.opacity,display:a.alwaysVisible?"block":"none","border-radius":a.borderRadius,BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,WebkitBorderRadius:a.borderRadius,zIndex:99}),P="top"==a.positionX?{top:a.distance}:{bottom:a.distance};z.css(P),L.css(P),V.parent().append(L),V.parent().append(z),a.railDraggable&&L.bind("mousedown",function(e){var s=i(document);return m=!0,t=parseFloat(L.css("left")),pageX=e.pageX,s.bind("mousemove.slimscrollX",function(i){currLeft=t+i.pageX-pageX,L.css("left",currLeft),l(0,0,L.position().left)}),s.bind("mouseup.slimscrollX",function(t){m=!1,h(),s.unbind(".slimscrollX")}),!1}).bind("selectstart.slimscrollX",function(t){return t.stopPropagation(),t.preventDefault(),!1}),z.hover(function(){c()},function(){h()}),L.hover(function(){w=!0},function(){w=!1}),n(),"right"===a.startX?(L.css({left:V.outerWidth()-L.outerWidth()}),l(0,0,!0)):"left"!==a.startX&&(l(i(a.startX).position().left,null,null,!0),a.alwaysVisible||L.hide())}if(g){var F=i(D).addClass(a.railClassY).css({width:a.size,height:"100%",position:"absolute",top:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),j=i(D).addClass(a.barClassY).css({background:a.color,width:a.size,position:"absolute",top:0,opacity:a.opacity,display:a.alwaysVisible?"block":"none","border-radius":a.borderRadius,BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,WebkitBorderRadius:a.borderRadius,zIndex:99}),A="right"==a.positionY?{right:a.distance}:{left:a.distance};F.css(A),j.css(A),V.parent().append(j),V.parent().append(F),a.railDraggable&&j.bind("mousedown",function(e){var s=i(document);return m=!0,t=parseFloat(j.css("top")),pageY=e.pageY,s.bind("mousemove.slimscrollY",function(i){currTop=t+i.pageY-pageY,j.css("top",currTop),l(0,0,j.position().top)}),s.bind("mouseup.slimscrollY",function(t){m=!1,p(),s.unbind(".slimscrollY")}),!1}).bind("selectstart.slimscrollY",function(t){return t.stopPropagation(),t.preventDefault(),!1}),F.hover(function(){u()},function(){p()}),j.hover(function(){v=!0},function(){v=!1}),d(),"bottom"===a.startY?(j.css({top:V.outerHeight()-j.outerHeight()}),l(0,0,!0)):"top"!==a.startY&&(l(null,i(a.startY).position().top,null,!0),a.alwaysVisible||j.hide())}V.hover(function(){b=!0,c(),u(),h(),p()},function(){b=!1,h(),p()}),V.bind("touchstart",function(t,i){t.originalEvent.touches.length&&(y=t.originalEvent.touches[0].pageX,Y=t.originalEvent.touches[0].pageY)}),V.bind("touchmove",function(t){if(O||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var i=(y-t.originalEvent.touches[0].pageX)/a.touchScrollStep,e=(Y-t.originalEvent.touches[0].pageY)/a.touchScrollStep;l(i,e,!0),y=t.originalEvent.touches[0].pageX,Y=t.originalEvent.touches[0].pageY}}),r(this)}}),this}}),i.fn.extend({slimscroll:i.fn.slimScroll})}(jQuery);